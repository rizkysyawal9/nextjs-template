#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo 'ğŸ¦ ğŸ§ Checking Types, lints and building your project before committing....'

# npm test

# Check Typescript Errors
npm run check-types || 
{
    echo 'âŒ âŒ Failed Type Check âŒ âŒ
            Please check your the typescript in your project again.'
    false;
}

# Check Linting Errors
npm run check-lint || 
{
    echo 'âŒ âŒ Failed Linter Check âŒ âŒ
            Please check your the code format in your project again.'
    false;
}

# If everything passes, trying to run build
echo 'âœ¨âœ¨ LGTM... trying to build now. âœ¨âœ¨'

npm run build || 
{
    echo 'âŒ âŒ  Next Build Faild âŒ âŒ
            Please view the errors and see why it failed'
    false;
}

echo 'âœ¨âœ¨ Awesome! I am commiting this now. âœ¨âœ¨'